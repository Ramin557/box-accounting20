{% extends "base.html" %}

{% block title %}ููุงุด ูฺฺฏโูุง ุฌุฏุฏ - ุณุณุชู ุญุณุงุจุฏุงุฑ{% endblock %}

{% block breadcrumb_items %}
<li class="breadcrumb-item active">ููุงุด ูฺฺฏโูุง ุฌุฏุฏ</li>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>
                <i class="fas fa-star text-warning"></i>
                ูฺฺฏโูุง ุฌุฏุฏ ุณุณุชู ุญุณุงุจุฏุงุฑ
            </h2>
            <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-right"></i>
                ุจุงุฒฺฏุดุช ุจู ุฏุงุดุจูุฑุฏ
            </a>
        </div>
    </div>
</div>

<!-- Enhanced Date Picker Demo -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                    <i class="fas fa-calendar-alt"></i>
                    ุงูุชุฎุงุจฺฏุฑ ุชุงุฑุฎ ูพุดุฑูุชู ุจุง ุชููู ูุงุฑุณ
                </h5>
            </div>
            <div class="card-body">
                <p class="text-muted mb-4">
                    ุงูุชุฎุงุจฺฏุฑ ุชุงุฑุฎ ุฌุฏุฏ ุจุง ูุงุจูุชโูุง ูพุดุฑูุชู ุดุงูู ููุงุด ุชุงุฑุฎ ุดูุณุ ุชุนู ุฎูุฏฺฉุงุฑ ุชุงุฑุฎ ุงูุฑูุฒุ ู ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏ
                </p>
                
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="demo_date1" class="form-label">ุชุงุฑุฎ ูุงฺฉุชูุฑ (ุฎูุฏฺฉุงุฑ ุงูุฑูุฒ)</label>
                        <input type="date" class="form-control" id="demo_date1" name="demo_date1" data-persian-datepicker="true">
                        <div class="form-text">ุชุงุฑุฎ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฑู ุงูุฑูุฒ ุชูุธู ูโุดูุฏ</div>
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label for="demo_date2" class="form-label">ุชุงุฑุฎ ุณุฑุฑุณุฏ (ุงุฎุชุงุฑ)</label>
                        <input type="date" class="form-control" id="demo_date2" name="demo_date2" data-persian-datepicker="true">
                        <div class="form-text">ุงู ููุฏ ุงุฎุชุงุฑ ุงุณุช ู ุชุงุฑุฎ ุฎูุฏฺฉุงุฑ ูุฏุงุฑุฏ</div>
                    </div>
                </div>
                
                <div class="alert alert-info">
                    <i class="fas fa-info-circle"></i>
                    <strong>ูฺฺฏโูุง ุฌุฏุฏ:</strong>
                    <ul class="mb-0 mt-2">
                        <li>ููุงุด ุฎูุฏฺฉุงุฑ ุชุงุฑุฎ ุดูุณ ุฏุฑ ฺฉูุงุฑ ุชุงุฑุฎ ููุงุฏ</li>
                        <li>ุชูุธู ุฎูุฏฺฉุงุฑ ุชุงุฑุฎ ุงูุฑูุฒ ุจุฑุง ููุฏูุง ููุงุณุจ</li>
                        <li>ุงุนุชุจุงุฑุณูุฌ ุชุงุฑุฎโูุง (ุฌููฺฏุฑ ุงุฒ ูุฑูุฏ ุชุงุฑุฎ ุขูุฏู)</li>
                        <li>ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุชููู ูุงุฑุณ</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- PDF Export Demo -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card" id="pdf-demo-container">
            <div class="card-header bg-success text-white">
                <div class="d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">
                        <i class="fas fa-file-pdf"></i>
                        ุตุงุฏุฑุงุช PDF ูพุดุฑูุชู
                    </h5>
                    <button type="button" class="btn btn-light btn-sm" onclick="exportReportPDF(this)" title="ุฏุงูููุฏ ุงู ุจุฎุด ุจู ุนููุงู PDF">
                        <i class="fas fa-download text-success"></i>
                        ุชุณุช ุตุงุฏุฑุงุช PDF
                    </button>
                </div>
            </div>
            <div class="card-body">
                <p class="text-muted mb-4">
                    ุณุณุชู ุตุงุฏุฑุงุช PDF ุฌุฏุฏ ุจุง ฺฉูุช ุจุงูุง ู ูุฑูุชโุฏู ุญุฑููโุง ุจุฑุง ูุงฺฉุชูุฑูุงุ ฺฏุฒุงุฑุดโูุง ู ุฌุฏุงูู
                </p>
                
                <!-- Sample Data Table for PDF Export -->
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>ุดูุงุฑู ูุงฺฉุชูุฑ</th>
                                <th>ูุดุชุฑ</th>
                                <th>ุชุงุฑุฎ</th>
                                <th>ูุจูุบ (ุชููุงู)</th>
                                <th>ูุถุนุช</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>INV-000001</td>
                                <td>ุดุฑฺฉุช ููููู</td>
                                <td>ฑดฐณ/ฐท/ฒฐ</td>
                                <td>ฒ,ตฐฐ,ฐฐฐ</td>
                                <td><span class="badge bg-success">ูพุฑุฏุงุฎุช ุดุฏู</span></td>
                            </tr>
                            <tr>
                                <td>INV-000002</td>
                                <td>ูุดุชุฑ ุขุฒูุงุด</td>
                                <td>ฑดฐณ/ฐท/ฑน</td>
                                <td>ฑ,ธฐฐ,ฐฐฐ</td>
                                <td><span class="badge bg-warning">ุฏุฑ ุงูุชุธุงุฑ</span></td>
                            </tr>
                            <tr>
                                <td>INV-000003</td>
                                <td>ฺฉุงุฑุฎุงูู ุชููุฏ</td>
                                <td>ฑดฐณ/ฐท/ฑธ</td>
                                <td>ณ,ฒฐฐ,ฐฐฐ</td>
                                <td><span class="badge bg-danger">ุณุฑุฑุณุฏ ฺฏุฐุดุชู</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="alert alert-success">
                    <i class="fas fa-check-circle"></i>
                    <strong>ูฺฺฏโูุง ุตุงุฏุฑุงุช PDF:</strong>
                    <ul class="mb-0 mt-2">
                        <li>ฺฉูุช ุจุงูุง ุจุง ูพุดุชุจุงู ุงุฒ ูููุชโูุง ูุงุฑุณ</li>
                        <li>ุญูุธ ุณุงุฎุชุงุฑ ู ูุฑูุชโุฏู ุงุตู</li>
                        <li>ูุฏุฑ ุฎูุฏฺฉุงุฑ ุจุง ุงุทูุงุนุงุช ุดุฑฺฉุช ู ุชุงุฑุฎ</li>
                        <li>ุจูููโุณุงุฒ ุจุฑุง ฺุงูพ A4</li>
                        <li>ูพุดุชุจุงู ุงุฒ ุฌุฏุงูู ูพฺุฏู ู ฺฏุฒุงุฑุดโูุง ูุงู</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Enhanced Form Features Demo -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0">
                    <i class="fas fa-edit"></i>
                    ูุฑูโูุง ูพุดุฑูุชู ุจุง ูุญุงุณุจุงุช ุฎูุฏฺฉุงุฑ
                </h5>
            </div>
            <div class="card-body">
                <p class="text-muted mb-4">
                    ูุฑูโูุง ุฌุฏุฏ ุจุง ูุงุจูุช ูุญุงุณุจู ุฎูุฏฺฉุงุฑุ ุงุนุชุจุงุฑุณูุฌ ูพุดุฑูุชูุ ู ุญุงูุชโูุง ุจุงุฑฺฏุฐุงุฑ
                </p>
                
                <form id="demoInvoiceForm">
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label for="demo_quantity" class="form-label">ุชุนุฏุงุฏ</label>
                            <input type="number" class="form-control" id="demo_quantity" name="quantity[]" value="2" min="1">
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <label for="demo_price" class="form-label">ููุช ูุงุญุฏ (ุชููุงู)</label>
                            <input type="number" class="form-control number-format" id="demo_price" name="unit_price[]" value="150000">
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <label for="demo_total" class="form-label">ูุฌููุน (ุฎูุฏฺฉุงุฑ)</label>
                            <input type="text" class="form-control line-total" id="demo_total" readonly value="300000">
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-title">ุฎูุงุตู ูุงฺฉุชูุฑ</h6>
                                    <div class="d-flex justify-content-between">
                                        <span>ุฌูุน ฺฉู:</span>
                                        <span class="subtotal">ณฐฐ,ฐฐฐ ุชููุงู</span>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <span>ูุงูุงุช (นูช):</span>
                                        <span class="tax-amount">ฒท,ฐฐฐ ุชููุงู</span>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-between fw-bold">
                                        <span>ูุจูุบ ููุง:</span>
                                        <span class="total-amount">ณฒท,ฐฐฐ ุชููุงู</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="alert alert-primary">
                                <i class="fas fa-calculator"></i>
                                <strong>ูุญุงุณุจุงุช ุฎูุฏฺฉุงุฑ:</strong>
                                <ul class="mb-0 mt-2">
                                    <li>ุชุบุฑ ููุงุฏุฑ ุจู ุตูุฑุช ุฒูุฏู ูุญุงุณุจู ูโุดูุฏ</li>
                                    <li>ูุฑูุชโุฏู ุฎูุฏฺฉุงุฑ ุงุนุฏุงุฏ ูุงุฑุณ</li>
                                    <li>ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง</li>
                                    <li>ุญุงูุช ุจุงุฑฺฏุฐุงุฑ ููฺฏุงู ุงุฑุณุงู ูุฑู</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Accessibility Features Demo -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-warning text-dark">
                <h5 class="mb-0">
                    <i class="fas fa-universal-access"></i>
                    ูฺฺฏโูุง ุฏุณุชุฑุณ ู ุชุฌุฑุจู ฺฉุงุฑุจุฑ
                </h5>
            </div>
            <div class="card-body">
                <p class="text-muted mb-4">
                    ุจูุจูุฏูุง ฺฏุณุชุฑุฏู ุฏุฑ ุฏุณุชุฑุณุ ูุงูุจุฑ ุจุง ฺฉุจูุฑุฏุ ู ุงููุดูโูุง ูุฑู
                </p>
                
                <div class="row">
                    <div class="col-md-6">
                        <h6 class="text-primary">ูุงูุจุฑูุง ฺฉุจูุฑุฏ:</h6>
                        <div class="border rounded p-3 mb-3">
                            <div class="d-flex justify-content-between mb-2">
                                <span>ุงุฌุงุฏ ุขุชู ุฌุฏุฏ:</span>
                                <kbd>Ctrl + N</kbd>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>ุจุณุชู ููุฏุงู:</span>
                                <kbd>Esc</kbd>
                            </div>
                            <div class="d-flex justify-content-between">
                                <span>ุฐุฎุฑู ูุฑู:</span>
                                <kbd>Ctrl + S</kbd>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <h6 class="text-success">ูฺฺฏโูุง ุชุฌุฑุจู ฺฉุงุฑุจุฑ:</h6>
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                <i class="fas fa-check text-success"></i>
                                ุงููุดูโูุง ูุฑู ู ุญุฑููโุง
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-check text-success"></i>
                                ุญุงูุชโูุง ุจุงุฑฺฏุฐุงุฑ ุจุฑุง ุนููุงุชโูุง
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-check text-success"></i>
                                ููุงุด ููุงุณุจ ุญุงูุช ุฎุงู
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-check text-success"></i>
                                ูพุดุชุจุงู ฺฉุงูู ุงุฒ screen reader
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-check text-success"></i>
                                ููฺฉูุณ ูุฏุฑุช ุดุฏู ู accessible
                            </li>
                        </ul>
                    </div>
                </div>
                
                <!-- Demo Buttons -->
                <div class="mt-4">
                    <h6 class="text-info">ุชุณุช ุฏฺฉููโูุง ูพุดุฑูุชู:</h6>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary" onclick="this.classList.add('loading'); setTimeout(() => this.classList.remove('loading'), 2000)">
                            <span class="btn-text">ุฏฺฉูู ุจุง Loading</span>
                            <span class="loading-spinner"></span>
                        </button>
                        <button type="button" class="btn btn-success smooth-transition" onclick="showAlert('ุนููุงุช ุจุง ููููุช ุงูุฌุงู ุดุฏ!', 'success')">
                            <i class="fas fa-check"></i>
                            ุฏฺฉูู ุจุง ุงููุดู
                        </button>
                        <button type="button" class="btn btn-info" onclick="exportTablePDF(this)" title="ุตุงุฏุฑุงุช ููููู PDF">
                            <i class="fas fa-file-pdf"></i>
                            ุตุงุฏุฑุงุช PDF
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Implementation Summary -->
<div class="row">
    <div class="col-12">
        <div class="card border-primary">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                    <i class="fas fa-clipboard-check"></i>
                    ุฎูุงุตู ูพุงุฏูโุณุงุฒ ูฺฺฏโูุง ุฌุฏุฏ
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6 class="text-success">โ ูฺฺฏโูุง ูพุงุฏูโุณุงุฒ ุดุฏู:</h6>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">ุงูุชุฎุงุจฺฏุฑ ุชุงุฑุฎ ูพุดุฑูุชู ุจุง ุชููู ูุงุฑุณ</li>
                            <li class="list-group-item">ุตุงุฏุฑุงุช PDF ุจุง ฺฉูุช ุจุงูุง</li>
                            <li class="list-group-item">ูุญุงุณุจุงุช ุฎูุฏฺฉุงุฑ ุฏุฑ ูุฑูโูุง</li>
                            <li class="list-group-item">ุงุนุชุจุงุฑุณูุฌ ูพุดุฑูุชู ูุฑูุฏโูุง</li>
                            <li class="list-group-item">ุญุงูุชโูุง ุจุงุฑฺฏุฐุงุฑ ู ุงููุดูโูุง</li>
                            <li class="list-group-item">ูฺฺฏโูุง ุฏุณุชุฑุณ (Accessibility)</li>
                        </ul>
                    </div>
                    
                    <div class="col-md-6">
                        <h6 class="text-info">๐ง ุจูุจูุฏูุง ูู:</h6>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">ุฑูุน ุจุงฺฏ ูุญุงุณุจุงุช ุงุนุดุงุฑ</li>
                            <li class="list-group-item">ุจูููโุณุงุฒ ุนููฺฉุฑุฏ JavaScript</li>
                            <li class="list-group-item">ูพุดุชุจุงู ุจูุชุฑ ุงุฒ ูููุชโูุง ูุงุฑุณ</li>
                            <li class="list-group-item">ูุฏุฑุช ุฎุทุงูุง ู ุญุงูุชโูุง ุฎุงู</li>
                            <li class="list-group-item">ุณุงุฒฺฏุงุฑ ุจุง ูุฑูุฑฺฏุฑูุง ูุฎุชูู</li>
                            <li class="list-group-item">ฺฉุฏููุณ ุชูุฒ ู ูุงุจู ูฺฏูุฏุงุฑ</li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-4 p-3 bg-light rounded">
                    <h6 class="text-primary mb-3">๐ ูุญูู ุงุณุชูุงุฏู:</h6>
                    <p class="mb-2">
                        <strong>ุงูุชุฎุงุจฺฏุฑ ุชุงุฑุฎ:</strong> 
                        ููุฏูุง ุชุงุฑุฎ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงูุฑูุฒ ุฑุง ุงูุชุฎุงุจ ูโฺฉููุฏ ู ููุงุด ูุงุฑุณ ุฏุงุฑูุฏ.
                    </p>
                    <p class="mb-2">
                        <strong>ุตุงุฏุฑุงุช PDF:</strong> 
                        ุฏฺฉููโูุง PDF ุฏุฑ ุตูุญุงุช ูุฎุชูู ุงุถุงูู ุดุฏู ู ุจุง ฺฉูฺฉ ุฑู ุขูโูุง ูุงู PDF ุฏุงูููุฏ ูโุดูุฏ.
                    </p>
                    <p class="mb-0">
                        <strong>ูุญุงุณุจุงุช ุฎูุฏฺฉุงุฑ:</strong> 
                        ุฏุฑ ูุฑูโูุง ูุงฺฉุชูุฑุ ุชุบุฑ ูุฑ ููุฏ ุจู ุตูุฑุช ุฒูุฏู ูุญุงุณุจุงุช ุฑุง ุจุฑูุฒุฑุณุงู ูโฺฉูุฏ.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Custom CSS for demo animations -->
<style>
.removing-item {
    opacity: 0.5;
    transform: translateX(20px);
    transition: all 0.3s ease;
}

.loading-spinner {
    display: none;
    width: 1rem;
    height: 1rem;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

.btn.loading .loading-spinner {
    display: inline-block;
    margin-right: 0.5rem;
}

.btn.loading .btn-text {
    opacity: 0.7;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.smooth-transition {
    transition: all 0.3s ease;
}

.smooth-transition:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
</style>

<script>
// Demo specific JavaScript
document.addEventListener('DOMContentLoaded', function() {
    // Auto-calculation demo
    const quantityInput = document.getElementById('demo_quantity');
    const priceInput = document.getElementById('demo_price');
    const totalInput = document.getElementById('demo_total');
    
    function updateDemoCalculation() {
        const quantity = parseFloat(quantityInput.value) || 0;
        const price = parseFloat(priceInput.value) || 0;
        const total = quantity * price;
        
        totalInput.value = total.toLocaleString('fa-IR');
        
        // Update summary
        document.querySelector('.subtotal').textContent = total.toLocaleString('fa-IR') + ' ุชููุงู';
        const tax = Math.round(total * 0.09);
        document.querySelector('.tax-amount').textContent = tax.toLocaleString('fa-IR') + ' ุชููุงู';
        document.querySelector('.total-amount').textContent = (total + tax).toLocaleString('fa-IR') + ' ุชููุงู';
    }
    
    quantityInput.addEventListener('input', updateDemoCalculation);
    priceInput.addEventListener('input', updateDemoCalculation);
    
    // Initialize calculation
    updateDemoCalculation();
});
</script>
{% endblock %}